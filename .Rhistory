<<<<<<< HEAD
library(available)
install.packages("available")
library(available)
available("corrank", browse=FALSE)
available("corrRank", browse=FALSE)
usethis::use_mit_license()
library(devtools)
library(usethis)
usethis::use_r()
l = list("Hello", "Goodbye")
View(l)
l = list(Hello, Goodbye)
data = c("Hello", "Goodbye")
data2 = c(1, 2)
data = data.frame(data, data2)
View(data)
colnames(data) = c("Hello", "Bye")
View(data)
data$Hello
data$"Hello"
?corr
corr?
3
?cor
x = c(1,2,3,4,5,6)
y = c(2,3,6,7,5,6)
z = c(10,20,30,40,50,60)
cor(x, z)
cor(x, y)
cor(c(x,y), z)
?rappend
corrRank = function(predictors, outcome){
# deal with missing values
# message if different dimensions
ranking = data.frame("Predictor", "Correlation")
for (predictor in predictors){
rbind(ranking, data.frame(Predictor = predictor, Correlation = cor(predictor, outcome)))
}
ranking = ranking %>% arrange(abs(Correlation))
return(ranking)
}
corrRank(list(x,y), z)
devtools::document()
devtools::document()
?corrRank
usethis::use_package("tidyverse")
usethis::use_package("dplyr")
usethis::use_mit_license()
?cor
x = c(NA, 2, 3, 4,5,6)
cor(x, y)
cor.test(x,y)
x
y
test = cor.test(y,z)
test$p.value
?ifelse
?cor.test
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
library(tidyverse)
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
View(cities)
library(tidyverse)
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
cities = read_csv("cities.csv")
cities = read_csv("cities.csv")
cities = read_csv("cities.csv")
library(tidyverse)
cities = read_csv("cities.csv")
library(tidyverse)
cities <- read_csv("~/cities.csv")
corrRank(list(cities$sunshine_hours), cities$water_bottle_cost))
corrRank(list(cities$sunshine_hours), cities$water_bottle_cost)
predictors = list(cities$sunshine_hours)
for (i in seq_along(predictors)){print(names(predictors)[i])}
i=1
predictor = predictors[[i]]
predictor
ranking = data.frame(matrix(ncol=3, nrow=0))
Predictor = names(predictors)[i]
Predictor
names(predictors)
predictors
predictors[1]
View(predictors)
Correlation = cor(predictor, outcome),
Correlation = cor(predictor, outcome)
outcome = cities$water_bottle_cost
Correlation = cor(predictor, outcome),
Correlation = cor(predictor, outcome)
Correlation
predictor
outcome
cor(predictor, outcome)
Correlation = cor(predictor, outcome, use = "complete.obs")
corrRank(list(Sunshine = cities$sunshine_hours), Water = cities$water_bottle_cost)
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome, use = "complete.obs"),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output$Correlation
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity), cities$water_bottle_cost)
View(cities)
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity_level), cities$water_bottle_cost)
output
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = round(cor(predictor, outcome, use = "complete.obs"),2),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output
output
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity_level), cities$water_bottle_cost)
output
output$Correlation[1] < output$Correlation[2]
output = corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
output
2 <= 2 <= 4
2 <= 3
2=< 3
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = round(cor(predictor, outcome, use = "complete.obs"),2),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No"),
Description = case_when(Correlation == -1 ~ "Perfect negative association",
Correlation == 1 ~ "Perfect positive association",
Correlation == 0 ~ "No linear association",
Correlation >= 0.8 & Correlation < 1 ~ "Strong positive association",
Correlation >= 0.6 & Correlation < 0.8 ~ "Moderate positive association",
Correlation > 0 & Correlation < 0.6 ~ "Weak positive association",
Correlation < 0 & Correlation > -0.6 ~ "Weak negative association",
Correlation <= -0.6 & Correlation > -0.8 ~ "Moderate negative association",
Correlation > -1 & Correlation <= -0.8 ~ "Strong negative association")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output
devtools::test()
devtools::document()
test_that("one predictor correlation works", {
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
expect_equal(output$Correlation,-0.35)
})
usethis::use_package("dplyr")
test_that("one predictor correlation works", {
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
expect_equal(output$Correlation,-0.35)
})
Correlation == -1
correlation = -1
Correlation = -1
"Linear Association" = case_when(Correlation == -1 ~ "Perfect negative",
Correlation == 1 ~ "Perfect positive",
Correlation == 0 ~ "None",
Correlation >= 0.8 & Correlation < 1 ~ "Strong positive",
Correlation >= 0.6 & Correlation < 0.8 ~ "Moderate positive",
Correlation > 0 & Correlation < 0.6 ~ "Weak positive",
Correlation < 0 & Correlation > -0.6 ~ "Weak negative",
Correlation <= -0.6 & Correlation > -0.8 ~ "Moderate negative",
Correlation > -1 & Correlation <= -0.8 ~ "Strong negative")))
"Linear Association" = case_when(Correlation == -1 ~ "Perfect negative",
Correlation == 1 ~ "Perfect positive",
Correlation == 0 ~ "None",
Correlation >= 0.8 & Correlation < 1 ~ "Strong positive",
Correlation >= 0.6 & Correlation < 0.8 ~ "Moderate positive",
Correlation > 0 & Correlation < 0.6 ~ "Weak positive",
Correlation < 0 & Correlation > -0.6 ~ "Weak negative",
Correlation <= -0.6 & Correlation > -0.8 ~ "Moderate negative",
Correlation > -1 & Correlation <= -0.8 ~ "Strong negative"))
"Linear Association" = case_when(Correlation == -1 ~ "Perfect negative",
Correlation == 1 ~ "Perfect positive",
Correlation == 0 ~ "None",
Correlation >= 0.8 & Correlation < 1 ~ "Strong positive",
Correlation >= 0.6 & Correlation < 0.8 ~ "Moderate positive",
Correlation > 0 & Correlation < 0.6 ~ "Weak positive",
Correlation < 0 & Correlation > -0.6 ~ "Weak negative",
Correlation <= -0.6 & Correlation > -0.8 ~ "Moderate negative",
Correlation > -1 & Correlation <= -0.8 ~ "Strong negative")
devtools::document()
?cities
devtools::test()
devtools::document()
devtools::test()
devtools::document()
devtools::test()
devtools::test()
cor(cities$avg_hours_worked_annual, cities$happiness_level)
cor(cities$avg_hours_worked_annual, cities$happiness_level, "complete.obs")
devtools::test()
corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
devtools::document()
devtools::spell_check()
devtools::document()
browseVignettes("tidyr")
usethis::use_vignette("my-vignette")
devtools::load_all()
?corr
?cor
2636/365
2636/12
219.6667/30
library(corrRank)
devtools::test()
devtools::document()
devtools::test()
devtools::document()
devtools::test()
data = read_csv("cities.csv")
library(tidyverse)
data = read_csv("cities.csv")
data = read_csv("data/cities.csv")
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
correlation = round(cor(predictor, outcome, use = "complete.obs"),2)
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = correlation,
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No"),
"Linear Association" = dplyr::case_when(correlation == -1 ~ "Perfect negative",
correlation == 1 ~ "Perfect positive",
correlation == 0 ~ "None",
correlation >= 0.8 & correlation < 1 ~ "Strong positive",
correlation >= 0.6 & correlation < 0.8 ~ "Moderate positive",
correlation > 0 & correlation < 0.6 ~ "Weak positive",
correlation < 0 & correlation > -0.6 ~ "Weak negative",
correlation <= -0.6 & correlation > -0.8 ~ "Moderate negative",
correlation > -1 & correlation <= -0.8 ~ "Strong negative")))
}
ranking = ranking %>% dplyr::arrange(desc(abs(Correlation)))
return(ranking)
}
corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
ouput = corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
output$Association[1]
output = corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
output$Association[1]
output$Linear.Association[1]
cor(cities$avg_hours_worked_annual, cities$happiness_level)
cor(cities$avg_hours_worked_annual, cities$happiness_level, use="complete.obs")
output$Correlation
devtools::test()
devtools::test()
=======
cities
load("C:/Users/hoang/OneDrive/Desktop/Version Control/corrrank/data/cities.rda")
length(cities)
cities$life_expectancy
cities
dim(cities)
dim(cities)[1]
exposures <- list(cities$life_expectancy, cities$happiness_level)
dim(exposures)[1]
length(exposures)
exposures[1]
length(exposures[1])
dim(exposures[1])
exposures[1]
size(exposures[1])
lengths(exposures[1])
lengths(cities$obesity_level)
outcome <- cities$obesity
length(cities$obesity_level)
lengths(exposures[1])
lengths(exposures)
set(lengths(exposures))
class(lengths(exposures))
lengths(exposures)
unique(lengths(exposures))
unique(lengths(exposures)), length(cities$obesity_level)
length(cities$obesity_level)
unique(lengths(exposures))
load("C:/Users/hoang/OneDrive/Desktop/Version Control/corrrank/data/cities.rda")
cplot <- function(predictors, outcome) {
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
print(corr_plot)
}
}
exposures <- list(cities$life_expectancy, cities$happiness_level)
cplot(exposures, cities$obesity_level)
library(ggplot)
library(ggplot2)
library(dplyr)
library(glue)
cplot(exposures, cities$cities$obesity)
cities
cplot <- function(predictors, outcome) {
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
print(corr_plot)
}
}
exposures
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)[1]
cplot <- function(predictors, outcome) {
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
return(corr_plot)
}
}
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[i] <- corr_plot
}
return(corr_plot)
}
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)[1]
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[i] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)[1]
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- vector()
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[i] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[i]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)[1]
cplot(exposures, cities$obesity_level)[2]
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[i]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)[1]
cplot(exposures, cities$obesity_level)[1]
cplot(exposures, cities$obesity_level)[2]
cplot(exposures, cities$obesity_level)
class(cplot(exposures, cities$obesity_level))
class(cplot(exposures, cities$obesity_level[1]))
class(cplot(exposures, cities$obesity_level)[1])
class(cplot(exposures, cities$obesity_level)[1])
cplot(exposures, cities$obesity_level)[1]
class(cplot(exposures, cities$obesity_level)[1])
class(cplot(exposures, cities$obesity_level)[[1]])
cplot(exposures, cities$obesity_level)[[1]]
predictors = exposures
predictor <- as.numeric(unlist(predictors[1]))
predictor
predictor <- as.numeric(unlist(predictors[1]))
predictors
predictors[1]
predictors[[1]]
predictor <- predictors[[1]]
predictor
class(predictor)
predictors
exposures
names(exposures)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[i]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
class(cplot(exposures, cities$obesity_level))
class(cplot(exposures, cities$obesity_level)[1])
class(cplot(exposures, cities$obesity_level)[[1]])
class(cplot(exposures, cities$obesity_level)[[1],1])
class(cplot(exposures, cities$obesity_level)[[1]1][1])
class(cplot(exposures, cities$obesity_level)[[1,1]1])
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
append(plots, corr_plot)
}
return(plots)
}
class(cplot(exposures, cities$obesity_level))
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[i]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)[[1]]
cplot(exposures, cities$obesity_level)[1]
class(cplot(exposures, cities$obesity_level)[1])
class(cplot(exposures, cities$obesity_level)[[1]])
class(class(cplot(exposures, cities$obesity_level)[[1]]))
class(class(cplot(exposures, cities$obesity_level)[[1]])[1])
class(cplot(exposures, cities$obesity_level)[[1]])
class(cplot(exposures, cities$obesity_level)[[1]][1])
class(cplot(exposures, cities$obesity_level)[[1]][2])
cplot(exposures, cities$obesity_level)[[1]][1]
cplot(exposures, cities$obesity_level)[[1]][2]
cplot(exposures, cities$obesity_level)[[1]]
cplot(exposures, cities$obesity_level)[[2]]
temp <- list()
temp
temp["how"] <- "can"
temp
temp[["how"]] <- "can"
temp
temp["how"]
temp[1]
temp[[1]]
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots["Exposure {i}"] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[["Exposure {i}"]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity)
predictors
predictors[[1]]
outcome
outcome <- cities$obesity_level
cplot(exposures, cities$obesity_level)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
return(plots)
}
cplot(exposures, cities$obesity_level)
a <- cplot(exposures, cities$obesity_level)
a$`Exposure 1`
a$`Exposure 2`
cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)$
`Exposure 1`
plot_list <- cplot(exposures, cities$obesity_level)
cplot(exposures, cities$obesity_level)
class(cplot(exposures, cities$obesity_level))
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)
class(cplot(exposures, cities$obesity_level))
class(list())
"gg" "ggplot"
"gg", "ggplot"
c("gg", "ggplot")
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)
c("gg","ggplot")
class(cplot(exposures, cities$obesity_level)$`Exposure 1`) == c("gg","ggplot")
cplot(exposures, cities$obesity_level)
length(cplot(exposures, cities$obesity_level))
length(exposures)
class(outcome)
class(is.numeric())
class(numeric)
class(is.numeric())
numeric
numeric()
is.numeric(0)
as.numeric(row(10,10))
as.numeric(row(1,10))
as.numeric(rep(10))
as.numeric(rep(10))
as.numeric(rep(10,10))
class(as.numeric(rep(10,10)))
class(outcome)
class(exposures)
exposures[[1]]
class(exposures[[1]])
for i in length(exposures) {}
for i in length(exposures) {
for (i in length(exposures)) {
print(class(exposures[[i]]))
}
length(exposures)
exposures[[1]]
exposures[[2]]
for (i in length(exposures)) {
print(i)
print(class(exposures[[i]]))
}
for (i in 1:length(exposures)) {
print(i)
print(class(exposures[[i]]))
}
temp
temp <- unlist(exposures)
temp
class(temp)
devtools::document()
rm(list = c("cplot"))
devtools::document()
devtools::test()
devtools::test()
devtools::document()
devtools::check()
devtools::spell_check()
devtools::document()
>>>>>>> fda80c98ea15e4c6c6e864f90168a00039c4c91f

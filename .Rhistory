devtools::test()
library(testthat)
devtools::test()
devtools::document()
devtools::test()
devtools::document()
devtools::test()
devtools::document()
devtools::test()
library(devtools)
devtools::document()
devtools::test()
usethis::use_package("ggplot2")
devtools::document()
devtools::test()
install.packages("import")
devtools::test()
devtools::test()
devtools::load_all()
devtools::document()
devtools::test()
library(devtools)
devtools::test()
library(devtools)
devtools::load_all()
devtools::document
devtools::document()
devtools::test()
devtools::document()
devtools::load_all()
devtools::install_github("echughes03/corrrank")
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
return(plots)
}
exposures <- list(cities$life_expectancy, cities$happiness_level)
load("C:/Users/hoang/OneDrive/Desktop/Version Control/corrrank/data/cities.rda")
exposures <- list(cities$life_expectancy, cities$happiness_level)
cities$sunshine_hours
exposures <- list(cities$life_expectancy, cities$sunshine_hours, cities$happiness_level)
plot_list <- cplot(exposures, cities$obesity_level)
library(dplyr)
library(glue)
library(ggplot2)
plot_list <- cplot(exposures, cities$obesity_level)
cities$obesity_level
cities$outdoor_activities
cities$happiness_level
cities$obesity_level
cities$outdoor_activities
cities$life_expectancy
exposures <- list(cities$obesity_level, cities$outdoor_activities)
plot_list <- cplot(exposures, cities$life_expectancy)
cplot <- function(predictors, outcome) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
return(plots)
}
plot_list <- cplot(exposures, cities$life_expectancy)
plot_list
plot_list$`Exposure 1`
plot_list$`Exposure 2`
plot_list$`Exposure 2` + labs(x = "Outdoor Activity", y = "Life Expectancy")
plot_list$`Exposure 2` + labs(x = "Outdoor Activity", y = "Life Expectancy")
plot_list$`Exposure 2` + labs(x = "Outdoor Activity",
y = "Life Expectancy",)
plot_list$`Exposure 2` + labs(x = "Outdoor Activity",
y = "Life Expectancy",
title = "Correlation Between Life Expectancy and Outdoor Activity")
exposures <- list(Work = cities$avg_hours_worked_annual, Pollution = cities$pollution_index, Sunshine = cities$sunshine_hours)
plot_list <- cplot(exposures, cities$happiness_level)
plot_list$`Exposure 1`
plot_list$`Exposure 2`
plot_list$`Exposure 3`
cplot(exposures, cities$happiness_level)
plot_list <- cplot(exposures, "Happiness Level" = cities$happiness_level)
plot_list <- cplot(exposures, `Happiness Level` = cities$happiness_level)
exposures <- list(Work = cities$avg_hours_worked_annual, Pollution = cities$pollution_index, Sunshine = cities$sunshine_hours)
plot_list$`Exposure 1`
Individual scatterplots can be extracted for each predictor using the order that they are listed in. In the `cities` dataset, `cplot()` takes the list of predictors `exposures` which consists of (1) average hours worked annually, (2) pollution, and (3) annual hours of sunshine, embedded in that order. To extract individual scatterplots, we write:
include_correlation <-       annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}"))
cplot <- function(predictors, outcome, r = T, line = T) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
if (r == F & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == T & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == F & line == T) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
}
return(plots)
}
exposures <- list(Work = cities$avg_hours_worked_annual, Pollution = cities$pollution_index, Sunshine = cities$sunshine_hours)
plot_list <- cplot(exposures, cities$happiness_level)
cplot(exposures, cities$happiness_level)
cplot(exposures, cities$happiness_level, r = T)
cplot(exposures, cities$happiness_level, r = F)
cplot(exposures, cities$happiness_level, line = F)
cplot(exposures, cities$happiness_level, r = F, line = F)
library(corrRank)
cplot <- function(predictors, outcome, r = T, line = T) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
if (r == F & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == T & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == F & line == T) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
}
return(plots)
}
plot_list <- cplot(exposures, cities$happiness_level, line = F)
plot_list$`Exposure 3` + labs(x = "Annual Hours of Sunshine",
y = "Happiness Level",
title = "Correlation Between Annual Hours of Sunshine and Happiness Level")
cplot <- function(predictors, outcome, r = T, line = T) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
if (r == F & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == T & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == F & line == T) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
else {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
plots[[glue("Exposure {i}")]] <- corr_plot
}
}
return(plots)
}
plot_list <- cplot(exposures, cities$happiness_level, r = F, line = F)
plot_list
cplot <- function(predictors, outcome, r = T, line = T) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
if (r == F & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == T & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == F & line == T) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
}
return(plots)
}
cplot(exposures, cities$happiness_level, r = F, line = F)
cplot(exposures, cities$happiness_level, r = T, line = F)
cplot(exposures, cities$happiness_level, r = T, line = T)
cplot(exposures, cities$happiness_level, r = F, line = T)
library(devtools)
library(usethis)
install_github("echughes03/corrrank")
install_github("echughes03/corrrank")
library(devtools)
devtools::document()
devtools::test()
exposures <- list(cities$life_expectancy, cities$happiness_level)
c("gg","ggplot")
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)
cplot(exposures, cities$obesity_level)$`Exposure 1`[1]
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)[1]
"ggplot2::ggplot"
class(cplot(exposures, cities$obesity_level)$`Exposure 1`)[1]
devtools::document()
devtools::test()
devtools::document()
devtools::load_all()
install_github("echughes03/corrRank")
library(devtools)
install_github("echughes03/corrRank")
library(corrRank)
?cplot
devtools::document()
devtools::load_all()
install_github("echughes03/corrRank")
devtools::document()
install_github("echughes03/corrRank")
library(corrRank)
?cplot
devtools::document()
devtools::load_all()
devtools::test()
devtools::document()
install_github("echughes03/corrRank")
library(corrRank)
?cplot
cplot <- function(predictors, outcome, r = T, line = T) {
plots <- list()
for (i in seq_along(predictors)) {
predictor <- predictors[[i]]
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
if (r == F & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == T & line == F) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
labs(subtitle = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else if (r == F & line == T) {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
else {
corr_plot <- ggplot2::ggplot(data = df, aes(x = exposure, y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}")) +
theme_minimal()
plots[[glue("Exposure {i}")]] <- corr_plot
}
}
return(plots)
}
exposures <- list(Work = cities$avg_hours_worked_annual, Pollution = cities$pollution_index, Sunshine = cities$sunshine_hours)
plot_list <- cplot(exposures, cities$happiness_level)
plot_list$`Exposure 1`
plot_list <- cplot(exposures, cities$happiness_level, line = F)
plot_list$`Exposure 1`
devtools::document()
devtools::load_all()
rm(list = c("cplot"))
devtools::load_all()
devtools::document()
devtools::test()
install_github("echughes03/corrRank")
library(corrRank)
?cplot
?corrRank
install_github("echughes03/corrRank")
library(corrRank)
?corrRank
?cplot
library(devtools)
install_github("echughes03/corrRank")
?corrRank
library(corrRank)
?corrRank
?cplot
?corrRank
devtools::load_all()
devtools::document()
devtools::test()
library(devtools)
install_github("echughes03/corrRank")
library(corrRank)
?cplot
?corrRank
devtools::load_all()
devtools::document()
vignette("my-vignette", package = "corrRank")
install_github("echughes03/corrRank", build_vignettes = T)
vignette("my-vignette", package = "corrRank")
vignette("my-vignette", package = "corrRank")
?corrRank
install_github("echughes03/corrRank")
library(corrRank)
?corrRank
library(devtools)
install_github("echughes03/corrRank")
library(corrRank)
?corrRank
library(devtools)
install_github("echughes03/corrRank", build_vignettes = TRUE)
install_github("echughes03/corrRank", build_vignettes = TRUE, force = TRUE)
library(corrRank)
?corrRank
devtools::load_all()
devtools::document()
devtools::test()
